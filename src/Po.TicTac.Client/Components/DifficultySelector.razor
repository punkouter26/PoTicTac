@namespace PoTicTac.Client.Components
@using PoTicTac.Client.Models

<div class="difficulty-selector">
    <label class="section-label">AI Difficulty</label>
    <div class="difficulty-buttons">
        <button class="difficulty-button @(CurrentDifficulty == Difficulty.Easy ? "active" : "")"
                @onclick="() => SetDifficulty(Difficulty.Easy)">
            <span class="difficulty-icon">ðŸ˜Š</span>
            <span>Easy</span>
        </button>
        <button class="difficulty-button @(CurrentDifficulty == Difficulty.Medium ? "active" : "")"
                @onclick="() => SetDifficulty(Difficulty.Medium)">
            <span class="difficulty-icon">ðŸ¤”</span>
            <span>Medium</span>
        </button>
        <button class="difficulty-button @(CurrentDifficulty == Difficulty.Hard ? "active" : "")"
                @onclick="() => SetDifficulty(Difficulty.Hard)">
            <span class="difficulty-icon">ðŸ”¥</span>
            <span>Hard</span>
        </button>
    </div>
</div>

@code {
    [Parameter] public Difficulty CurrentDifficulty { get; set; } = Difficulty.Medium;
    [Parameter] public EventCallback<Difficulty> OnDifficultyChange { get; set; }

    private async Task SetDifficulty(Difficulty difficulty)
    {
        CurrentDifficulty = difficulty;
        if (OnDifficultyChange.HasDelegate)
        {
            await OnDifficultyChange.InvokeAsync(difficulty);
        }
    }
}
