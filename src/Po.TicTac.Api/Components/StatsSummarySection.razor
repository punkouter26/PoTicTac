@using Po.TicTac.Shared.Models

<div class="summary-cards" aria-label="Aggregated statistics across all players">
    <div class="summary-card">
        <div class="summary-card-title">Games Logged</div>
        <div class="summary-card-value">@Summary.TotalGames</div>
    </div>
    <div class="summary-card">
        <div class="summary-card-title">Total Wins</div>
        <div class="summary-card-value">@Summary.TotalWins</div>
    </div>
    <div class="summary-card">
        <div class="summary-card-title">Total Draws</div>
        <div class="summary-card-value">@Summary.TotalDraws</div>
    </div>
    <div class="summary-card">
        <div class="summary-card-title">Overall Win Rate</div>
        <div class="summary-card-value">@FormatPercentage(Summary.AverageWinRate)</div>
    </div>
    <div class="summary-card">
        <div class="summary-card-title">Longest Win Streak</div>
        <div class="summary-card-value">@Summary.LongestWinStreak</div>
    </div>
</div>

@code {
    [Parameter]
    public StatsSummaryModel Summary { get; set; } = new();

    private static string FormatPercentage(double value)
    {
        if (!double.IsFinite(value))
        {
            return "0%";
        }

        var clamped = Math.Clamp(value, 0, 1);
        return clamped.ToString("P1");
    }
}
